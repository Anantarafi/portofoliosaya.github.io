// Translation data for the portfolio website
const translations = {
    id: {
        // Meta and page info
        'page-title': 'Portofolio - Irsyada Rafi Ananta',
        'meta-description': 'Portfolio Irsyada Rafi Ananta - Graphic Design & UI/UX Designer dengan pengalaman dalam pengembangan web dan desain digital',
        
        // Navigation
        'nav-home': 'Beranda',
        'nav-about': 'Tentang',
        'nav-skills': 'Keahlian',
        'nav-projects': 'Proyek',
        'nav-contact': 'Kontak',
        
        // Hero section
        'hero-greeting': 'Halo, Saya',
        'hero-role': 'Graphic Design & UI/UX Designer',
        'hero-description': 'Saya menciptakan pengalaman digital yang menakjubkan dengan desain yang menarik.',
        'btn-view-projects': 'Lihat Proyek',
        'btn-contact-me': 'Hubungi Saya',
        
        // About section
        'about-title': 'Tentang Saya',
        'about-description': 'Fresh graduate D3 Teknik Informatika dengan pengalaman magang sebagai Fullstack Developer. Terampil dalam pengembangan aplikasi web end-to-end menggunakan PHP, CodeIgniter, dan JavaScript. Memiliki semangat tinggi dalam merancang antarmuka (UI/UX) yang intuitif dan fungsional menggunakan Figma untuk memberikan pengalaman pengguna terbaik.',
        
        // Skills section
        'skills-title': 'Keahlian',
        
        // Projects section
        'projects-title': 'Proyek Saya',
        // New projects
        'project-craft-title': 'UI/UX Kerajinan Tradisional',
        'project-craft-desc': 'Desain antarmuka aplikasi untuk promosi kerajinan tradisional dengan konsep modern yang mempertahankan nilai budaya.',
        'project-food-title': 'UI/UX Pemesanan Makanan',
        'project-food-desc': 'Aplikasi pemesanan makanan dengan antarmuka yang user-friendly dan proses checkout yang mudah.',
        'project-car-title': 'UI/UX Website Modifikasi Mobil',
        'project-car-desc': 'Website untuk layanan modifikasi mobil dengan galeri showcase dan sistem booking online.',
        // Existing projects
        'project-banner-title': 'Desain Banner',
        'project-banner-desc': 'Desain banner untuk peringatan Hari Santri dengan konsep modern dan religius.',
        'project-ui-title': 'UI/UX Design',
        'project-ui-desc': 'Perancangan antarmuka pengguna yang intuitif dan modern menggunakan Figma.',
        'project-poster-title': 'Poster',
        'project-poster-desc': 'Desain poster promosi dengan visual yang menarik dan informatif.',
        'project-web-title': 'Website',
        'project-web-desc': 'Pengembangan aplikasi web fullstack dengan fitur lengkap dan responsif.',
        'project-poster2-title': 'Poster',
        'project-poster2-desc': 'Desain poster kreatif dengan konsep yang unik dan eye-catching.',
        
        // Contact section
        'contact-title': 'Hubungi Saya',
        'contact-subtitle': 'Mari Berkolaborasi!',
        'contact-description': 'Saya selalu tertarik dengan proyek-proyek menarik. Mari diskusikan bagaimana kita bisa bekerja sama.',
        'form-name': 'Nama Anda',
        'form-email': 'Email Anda',
        'form-message': 'Pesan Anda',
        'btn-send': 'Kirim Pesan',
        
        // Footer
        'footer-text': '© 2025 Irsyada Rafi Ananta. All rights reserved.',
        
        // Notifications
        'form-success': 'Terima kasih! Pesan Anda telah dikirim. Saya akan segera menghubungi Anda.',
        'form-error-fields': 'Mohon isi semua field yang diperlukan.',
        'form-error-email': 'Mohon masukkan alamat email yang valid.',
        'form-error-message': 'Pesan terlalu pendek. Mohon berikan detail lebih lanjut.',
        'btn-sending': 'Mengirim...',
    },
    
    en: {
        // Meta and page info
        'page-title': 'Portfolio - Irsyada Rafi Ananta',
        'meta-description': 'Portfolio of Irsyada Rafi Ananta - Graphic Design & UI/UX Designer with experience in web development and digital design',
        
        // Navigation
        'nav-home': 'Home',
        'nav-about': 'About',
        'nav-skills': 'Skills',
        'nav-projects': 'Projects',
        'nav-contact': 'Contact',
        
        // Hero section
        'hero-greeting': 'Hello, I\'m',
        'hero-role': 'Graphic Design & UI/UX Designer',
        'hero-description': 'I create amazing digital experiences with attractive and functional designs.',
        'btn-view-projects': 'View Projects',
        'btn-contact-me': 'Contact Me',
        
        // About section
        'about-title': 'About Me',
        'about-description': 'Fresh graduate of D3 Informatics Engineering with internship experience as a Fullstack Developer. Skilled in end-to-end web application development using PHP, CodeIgniter, and JavaScript. Have a high passion for designing intuitive and functional user interfaces (UI/UX) using Figma to provide the best user experience.',
        
        // Skills section
        'skills-title': 'My Skills',
        
        // Projects section
        'projects-title': 'My Projects',
        // New projects
        'project-craft-title': 'UI/UX Traditional Crafts',
        'project-craft-desc': 'Application interface design for promoting traditional crafts with modern concepts that preserve cultural values.',
        'project-food-title': 'UI/UX Food Ordering',
        'project-food-desc': 'Food ordering application with user-friendly interface and easy checkout process.',
        'project-car-title': 'UI/UX Car Modification Website',
        'project-car-desc': 'Website for car modification services with showcase gallery and online booking system.',
        // Existing projects
        'project-banner-title': 'Banner Design',
        'project-banner-desc': 'Banner design for Santri Day commemoration with modern and religious concepts.',
        'project-ui-title': 'UI/UX Design',
        'project-ui-desc': 'Intuitive and modern user interface design using Figma.',
        'project-poster-title': 'Poster',
        'project-poster-desc': 'Promotional poster design with attractive and informative visuals.',
        'project-web-title': 'Website',
        'project-web-desc': 'Fullstack web application development with complete and responsive features.',
        'project-poster2-title': 'Poster',
        'project-poster2-desc': 'Creative poster design with unique and eye-catching concepts.',
        
        // Contact section
        'contact-title': 'Contact Me',
        'contact-subtitle': 'Let\'s Collaborate!',
        'contact-description': 'I\'m always interested in exciting projects. Let\'s discuss how we can work together.',
        'form-name': 'Your Name',
        'form-email': 'Your Email',
        'form-message': 'Your Message',
        'btn-send': 'Send Message',
        
        // Footer
        'footer-text': '© 2025 Irsyada Rafi Ananta. All rights reserved.',
        
        // Notifications
        'form-success': 'Thank you! Your message has been sent. I will contact you soon.',
        'form-error-fields': 'Please fill in all required fields.',
        'form-error-email': 'Please enter a valid email address.',
        'form-error-message': 'Message is too short. Please provide more details.',
        'btn-sending': 'Sending...',
    }
};

// Language detection and management
class LanguageManager {
    constructor() {
        this.currentLanguage = this.detectLanguage();
        this.init();
    }
    
    detectLanguage() {
        // Check localStorage first
        const savedLanguage = localStorage.getItem('preferred-language');
        if (savedLanguage && translations[savedLanguage]) {
            return savedLanguage;
        }
        
        // Check browser language
        const browserLang = navigator.language.slice(0, 2);
        if (translations[browserLang]) {
            return browserLang;
        }
        
        // Default to Indonesian
        return 'id';
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.setupLanguageSwitcher();
    }
    
    setupLanguageSwitcher() {
        const langToggle = document.getElementById('language-toggle');
        if (langToggle) {
            langToggle.addEventListener('click', () => {
                this.switchLanguage();
            });
        }
    }
    
    switchLanguage() {
        const langBtn = document.getElementById('language-toggle');
        
        // Add loading state
        langBtn.classList.add('loading');
        
        // Switch language
        const newLanguage = this.currentLanguage === 'id' ? 'en' : 'id';
        
        // Add transition effect
        document.body.classList.add('language-transition');
        
        setTimeout(() => {
            this.updateLanguage(newLanguage);
            
            // Remove loading and transition states
            langBtn.classList.remove('loading');
            document.body.classList.remove('language-transition');
            document.body.classList.add('language-transition', 'complete');
            
            setTimeout(() => {
                document.body.classList.remove('language-transition', 'complete');
            }, 300);
        }, 250);
    }
    
    updateLanguage(language) {
        if (!translations[language]) return;
        
        this.currentLanguage = language;
        localStorage.setItem('preferred-language', language);
        
        // Update HTML lang attribute
        document.documentElement.lang = language;
        
        // Update all translatable elements
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            const translation = translations[language][key];
            
            if (translation) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = translation;
                } else {
                    // Preserve HTML structure for mixed content
                    if (element.innerHTML.includes('<span class="highlight">')) {
                        const highlightContent = element.querySelector('.highlight').textContent;
                        element.innerHTML = translation + ' <span class="highlight">' + highlightContent + '</span>';
                    } else {
                        element.textContent = translation;
                    }
                }
            }
        });
        
        // Update language switcher button
        this.updateLanguageSwitcher();
        
        // Update document title
        const titleElement = document.querySelector('[data-translate="page-title"]');
        if (titleElement) {
            document.title = translations[language]['page-title'];
        }
        
        // Update meta description
        const metaDescription = document.querySelector('meta[name="description"]');
        if (metaDescription) {
            metaDescription.content = translations[language]['meta-description'];
        }
    }
    
    updateLanguageSwitcher() {
        const flagIcon = document.querySelector('.flag-icon');
        const langText = document.querySelector('.lang-text');
        
        if (flagIcon && langText) {
            if (this.currentLanguage === 'id') {
                flagIcon.textContent = '🇮🇩';
                langText.textContent = 'ID';
            } else {
                flagIcon.textContent = '🇺🇸';
                langText.textContent = 'EN';
            }
        }
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    translate(key) {
        return translations[this.currentLanguage][key] || key;
    }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.languageManager = new LanguageManager();
});

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { translations, LanguageManager };
}